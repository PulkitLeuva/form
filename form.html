
<!DOCTYPE html>
<html>
<head>
  <title>MCQ Form</title>
  <link rel="stylesheet" href="form.css">
</head>
<body>
    <div class="form-container">
        <form id="my-form" name="my-form" method= "POST" data-netlify="true" onsubmit= "submit">
          <div class="question">
            <p>Question 1: What is your favorite color?</p>
            <label>
              <input type="radio" name="q1" value="red" data-category="Category 1">
              Red
            </label>
            <label>
              <input type="radio" name="q1" value="blue" data-category="Category 2">
              Blue
            </label>
            <label>
              <input type="radio" name="q1" value="green" data-category="Category 3">
              Green
            </label>
          </div>
          <div class="question">
            <p>Question 2: What is your favorite animal?</p>
            <label>
              <input type="radio" name="q2" value="dog" data-category="Category 1">
              Dog
            </label>
            <label>
              <input type="radio" name="q2" value="cat" data-category="Category 2">
              Cat
            </label>
            <label>
              <input type="radio" name="q2" value="bird" data-category="Category 3">
              Bird
            </label>
          </div>
          <div id="result"></div>
          <button type="submit">Submit</button>
        </form>
      </div>
      <script>
        // Get all radio buttons in the form
        const radioButtons = document.querySelectorAll('input[type=radio]');

        // Add event listener to each radio button
        radioButtons.forEach(radioButton => {
          radioButton.addEventListener('change', () => {
            // Get the category of the selected option
            const category = radioButton.getAttribute('data-category');

            // Get all selected options in the form
            const selectedOptions = document.querySelectorAll('input[type=radio]:checked');

            // Count the number of selected options for each category
            const categoryCounts = {
              'Category 1': 0,
              'Category 2': 0,
              'Category 3': 0
            };
            selectedOptions.forEach(selectedOption => {
              const optionCategory = selectedOption.getAttribute('data-category');
              categoryCounts[optionCategory]++;
            });

            // Update the result display with the category counts
            const resultElement = document.getElementById('result');
            resultElement.innerHTML = `Category 1: ${categoryCounts['Category 1']} | Category 2: ${categoryCounts['Category 2']} | Category 3: ${categoryCounts['Category 3']}`;
          });
        });

        // Submit handler function
        function submitHandler(event) {
          event.preventDefault();

          const form = document.getElementById('my-form');
          const formData = new FormData(form);

          fetch('/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: new URLSearchParams(formData).toString()
          })
            .then(() => console.log('Form successfully submitted'))
            .catch((error) => alert(error));
        }

        // Add submit handler to the form
        const form = document.getElementById('my-form');
        form.addEventListener('submit', submitHandler);
      </script>
</body>
</html>
